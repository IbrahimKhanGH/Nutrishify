{% macro artistLabel(display_name, artist, id, duration) -%}
    <div class="artistLabel" id="{{ id }}">
      {% if artist %}
      <div class="topWords">
        <section class="performance-facts3">
          <header class="performance-facts__header">
            <h1 class="performance-facts__title">Spotify Nutrition</h1>
            <hr class="title-line" />
            <tr class="serving-size">
              <table class="performance-facts__table">
    
                <tr class="serving-size">
    
                  <th colspan="2">
                    <b>Serving Size</b>
                  </th>
    
                  <td class="duration-cell">
                    <b>{{ duration }}</b>
                  </td>
    
                </tr>
              </table>
            </tr>
          </header>
    
          <table class="performance-facts__table">
            <tbody>
    
              <tr class="Total-Word-Count">
                <th colspan="2">
                  <b>Artists</b>
                </th>
    
                <td><b>7</b></td>
              </tr>
              <tr class="thick-row">
                <td colspan="3" class="small-info">
                  * artist rank %  
                </td>
              </tr>
              <tr>
                <th colspan="2">
                  <b><a href="{{ (artist[0]['external_urls']['spotify']) }}" target="_blank" style="color: inherit; text-decoration: none;">{{ (artist[0]['name']) }}</a></b> <i class="genre"> &nbsp;&nbsp;&nbsp;</i> 
                </th>
                <td>
                  <b>1%</b>
                </td>
    
              </tr>
              <tr>
                <td class="blank-cell"></td>
                <th>
                  <a href="{{ (artist[1]['external_urls']['spotify']) }}" target="_blank" style="color: inherit; text-decoration: none;">{{ (artist[1]['name']) }}</a>&nbsp;&nbsp;&nbsp;
                </th>
                <td>
                  <b>2%</b>
                </td>
              </tr>
              <tr>
                <td class="blank-cell"></td>
                <th>
                  <i><a href="{{ (artist[2]['external_urls']['spotify']) }}" target="_blank" style="color: inherit; text-decoration: none;">{{ (artist[2]['name']) }}</a></i>&nbsp;&nbsp;&nbsp;
                </th>
                <td>
                  <b>3%</b>
                </td>
              </tr>
              <tr>
                <th colspan="2">
                  <b><a href="{{ (artist[3]['external_urls']['spotify']) }}" target="_blank" style="color: inherit; text-decoration: none;">{{ (artist[3]['name']) }}</a></b> &nbsp;&nbsp;&nbsp;
                </th>
                <td>
                  <b>4%</b>
                </td>
              </tr>
              <tr>
                <th colspan="2">
                  <b><a href="{{ (artist[4]['external_urls']['spotify']) }}" target="_blank" style="color: inherit; text-decoration: none;">{{ (artist[4]['name']) }}</a></b>&nbsp;&nbsp;&nbsp;
                </th>
                <td>
                  <b>5%</b>
                </td>
              </tr>
              <tr>
                <th colspan="2">
                  <b><a href="{{ (artist[5]['external_urls']['spotify']) }}" target="_blank" style="color: inherit; text-decoration: none;">{{ (artist[5]['name']) }}</a></b>&nbsp;&nbsp;&nbsp;
                </th>
                <td>
                  <b>6%</b>
                </td>
              </tr>
              <tr class="thick-end">
                <th colspan="2">
                  <b><a href="{{ (artist[6]['external_urls']['spotify']) }}" target="_blank" style="color: inherit; text-decoration: none;">{{ (artist[6]['name']) }}</a></b>&nbsp;&nbsp;&nbsp;
                </th>
                <td><b>7%</b></td>
              </tr>
            </tbody>
          </table>
    
          <table class="performance-facts__table">
            <tbody>
    
              <tr class="thin-end">
                <td colspan="2"> <b>User</b> </td>     <td>{{ display_name }} </td>
              </tr>
              
              <tr class="thin-end">
                <td colspan="2"><b>Top Artist</b></td> <td> {{ (artist[0]['name']) }}</td>
              </tr>
              <tr class="thin-end">
    
                <td colspan="2"><b>Date</b></td>
    
                <td>
    
                  <script>
                    var currentDate = new Date();
                    var options = { month: 'short', day: 'numeric', year: 'numeric' };
                    var dateString = currentDate.toLocaleDateString(undefined, options);
              
                    document.write(dateString);
                  </script>
                  
                </td>
              </tr>
              
            </tbody>
          </table>
          
          
          <p class='small-info download-text'>
            * Your top artist, {{ artist[0]['name'] }}, has a popularity rating of {{ artist[0]['popularity'] }}/100.
            {% if artist[0]['popularity'] >= 0 and artist[0]['popularity'] <= 20 %}
              They're a hidden gem, loved by a dedicated group of fans.
            {% elif artist[0]['popularity'] >= 21 and artist[0]['popularity'] <= 40 %}
              They're gaining attention and starting to make waves in the music world.
            {% elif artist[0]['popularity'] >= 41 and artist[0]['popularity'] <= 60 %}
              They're becoming increasingly popular, with a growing number of listeners.
            {% elif artist[0]['popularity'] >= 61 and artist[0]['popularity'] <= 80 %}
              They're quite popular, well-known for their unique style and sound.
            {% else %}
              They're a chart-topper, widely recognized and loved by music enthusiasts.
            {% endif %}
          </p>
          
          <p class="small-info download-text">
            * Generated With <span class="link">Nutrishify.herokuapp.com</span>
          </p>
          <img src="../static/spotify-logo.png" alt="Spotify Logo" style="width: 75px; height: auto; margin-top: 10px;">
            
        </section>
      </div>
      {% endif %}
    </div>
{%- endmacro %}
